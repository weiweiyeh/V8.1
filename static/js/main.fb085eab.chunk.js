(this.webpackJsonpv81=this.webpackJsonpv81||[]).push([[0],{7:function(e,n,t){"use strict";t.r(n);t(8);var i,o=t(0),a=t(5),s=t(3),d=t(6),r=t(1),c=t(4),l=(t(10),[]),p=new o.db;p.background=new o.i("skyblue");var m=new o.j(4210752,4);m.position.set(-10,20,10),p.add(m);var u=new o.j(4210752,4);u.position.set(10,20,-10),p.add(u);var w=new o.a(4210752,2);p.add(w);var y=new o.T(75,window.innerWidth/window.innerHeight,.1,1e3);y.fov=30,y.position.x=0,y.position.y=280,y.position.z=0;var E=new o.T(75,window.innerWidth/window.innerHeight,.1,1e3);E.fov=30,E.position.x=0,E.position.y=280,E.position.z=0;var h=new o.tb({antialias:!0});h.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(h.domElement);var v=new c.b;v.setSize(window.innerWidth,window.innerHeight),v.domElement.style.position="absolute",v.domElement.style.top="0px",v.domElement.style.pointerEvents="none",document.body.appendChild(v.domElement);var g=new a.a(y,h.domElement);g.dampingFactor=.1,g.enableDamping=!0,g.enablePan=!0,g.rotateSpeed=.5,g.target.set(0,0,0);var b,f,x=new o.bb,D=new Array,k=(new o.nb).load("img/circle.png"),z=new o.m,T=document.getElementById("progressBar"),C=document.getElementById("backButton");function L(e){new r.Tween(y.position).to({x:e.position.x-30,y:e.position.y+30,z:e.position.z+30},500).easing(r.Easing.Cubic.Out).start(),new r.Tween(g.target).to({x:e.position.x,y:e.position.y,z:e.position.z},500).easing(r.Easing.Cubic.Out).start(),Object.keys(i).forEach((function(e){i[e].descriptionDomElement&&(i[e].descriptionDomElement.style.display="none"),i[e].pictureDomElement&&(i[e].pictureDomElement.style.display="none")})),e.descriptionDomElement&&(e.descriptionDomElement.style.display="block"),e.pictureDomElement&&(e.pictureDomElement.style.display="block")}[].push(C),z.setMimeType("json"),z.load("/surround.json",(function(e){f=JSON.parse(e),(new s.a).load(f[0].path,(function(e){e.scene.position.copy(f[0].position),p.add(e.scene),D.push(e.scene)}),void 0,(function(e){console.error(e)}))})),z.load("/names.json",(function(e){b=JSON.parse(e),console.log(b),i=b;for(var n=new s.a,t=function(e){n.load(b[e].path,(function(n){n.scene.position.copy(b[e].position),p.add(n.scene),D.push(n.scene)}),void 0,(function(e){console.error(e)}))},a=0;a<b.length;a++)t(a);var d=document.getElementById("annotationsPanel"),m=document.createElement("UL"),u=d.appendChild(m);C.addEventListener("click",(function(){new r.Tween(y.position).to({x:E.position.x,y:E.position.y,z:E.position.z},500).easing(r.Easing.Cubic.Out).start(),new r.Tween(g.target).to({x:0,y:0,z:0},500).easing(r.Easing.Cubic.Out).start(),Object.keys(i).forEach((function(e){i[e].descriptionDomElement&&(i[e].descriptionDomElement.style.display="none"),i[e].pictureDomElement&&(i[e].pictureDomElement.style.display="none")}))})),Object.keys(i).forEach((function(e){var n=document.createElement("UL"),t=u.appendChild(n),a=document.createElement("BUTTON");a.innerHTML=e+": "+i[e].name,a.className="annotationButton",a.addEventListener("click",(function(){L(i[e])})),t.appendChild(a);var s=new o.kb({map:k,depthTest:!1,depthWrite:!1,sizeAttenuation:!1}),d=new o.jb(s);d.scale.set(.066,.066,.066),d.position.copy(i[e].position),d.position.y=i[e].position.y+3,d.userData.id=e,p.add(d),l.push(d);var r=document.createElement("div");r.className="annotationLabel",r.innerHTML=e;var m=new c.a(r);m.position.copy(i[e].position),m.position.y=i[e].position.y+3,p.add(m);var w=document.createElement("div");if(w.className="annotationName",w.innerHTML=i[e].name,r.appendChild(w),r.addEventListener("mouseenter",(function(e){w.style.display="block"})),r.addEventListener("mouseleave",(function(e){w.style.display="none"})),r.addEventListener("click",(function(){L(i[e])})),i[e].description){var y=document.createElement("div");y.className="annotationDescription",y.innerHTML=i[e].name;var E=document.createElement("div");if(E.style.cssText="font-size: 20px; color: #545454; font-weight:normal;",E.innerHTML=i[e].description,i[e].picture){var h=document.createElement("picture");h.innerHTML='<img src="'+i[e].picture+'" width="350px" height="260px"  border="5px solid black">',h.style.overflow="hidden",h.style.position="related",h.style.right="5.5%",E.appendChild(h)}y.appendChild(E),r.appendChild(y),i[e].descriptionDomElement=y}})),T.style.display="none"})),window.addEventListener("resize",(function(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight),v.setSize(window.innerWidth,window.innerHeight),H()}),!1),h.domElement.addEventListener("click",(function(e){x.setFromCamera({x:e.clientX/h.domElement.clientWidth*2-1,y:-e.clientY/h.domElement.clientHeight*2+1},y);var n=x.intersectObjects(l,!0);console.log(v.domElement),n.length>0&&n[0].object.userData&&n[0].object.userData.id&&L(i[n[0].object.userData.id])}),!1),h.domElement.addEventListener("dblclick",(function(e){x.setFromCamera({x:e.clientX/h.domElement.clientWidth*2-1,y:-e.clientY/h.domElement.clientHeight*2+1},y);var n=x.intersectObjects(D,!0);if(n.length>0){var t=n[0].point;new r.Tween(g.target).to({x:t.x,y:t.y,z:t.z},500).easing(r.Easing.Cubic.Out).start()}}),!1);var j=Object(d.a)();document.body.appendChild(j.dom);function H(){v.render(p,y),h.render(p,y)}!function e(){requestAnimationFrame(e),g.update(),r.update(),H(),j.update()}()},8:function(e,n,t){}},[[7,1,2]]]);
//# sourceMappingURL=main.fb085eab.chunk.js.map