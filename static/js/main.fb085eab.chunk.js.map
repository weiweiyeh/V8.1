{"version":3,"sources":["index.js"],"names":["annotations","annotationMarkers","scene","THREE","background","light","position","set","add","light2","ambientLight","camera","window","innerWidth","innerHeight","fov","x","y","z","deafult_camera","renderer","antialias","setSize","document","body","appendChild","domElement","labelRenderer","CSS2DRenderer","style","top","pointerEvents","controls","OrbitControls","dampingFactor","enableDamping","enablePan","rotateSpeed","target","resourceData","surroundData","raycaster","sceneMeshes","Array","circleTexture","load","getnames","progressBar","getElementById","backButton","gotoAnnotation","a","TWEEN","to","easing","Cubic","Out","start","Object","keys","forEach","annotation","descriptionDomElement","display","pictureDomElement","push","setMimeType","all","JSON","parse","GLTFLoader","path","gltf","copy","undefined","error","console","log","gltfloader","i","length","annotationsPanel","ul","createElement","ulElem","addEventListener","li","liElem","button","innerHTML","name","className","annotationSpriteMaterial","map","depthTest","depthWrite","sizeAttenuation","annotationSprite","scale","userData","id","annotationDiv","annotationLabel","CSS2DObject","annotationNameDiv","event","description","annotationinfoDiv","annotationDescriptionDiv","cssText","picture","annotationPictureDiv","overflow","right","aspect","updateProjectionMatrix","render","setFromCamera","clientX","clientWidth","clientY","clientHeight","intersects","intersectObjects","object","p","point","stats","Stats","dom","animate","requestAnimationFrame","update"],"mappings":"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","file":"static/js/main.fb085eab.chunk.js","sourcesContent":["import './styles.css'\r\nimport * as THREE from 'three'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\n\r\nimport Stats from 'three/examples/jsm/libs/stats.module';\r\nimport * as TWEEN from  'tween' ;\r\nimport { CSS2DRenderer, CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer';\r\nimport { useState } from 'react';\r\nlet annotations\r\nconst annotationMarkers = [];\r\n\r\nconst backstate = [];\r\nconst scene = new THREE.Scene();\r\nscene.background= new THREE.Color( 'skyblue' );\r\nvar light = new THREE.DirectionalLight(0x404040,4);\r\nlight.position.set(-10, 20, 10);\r\nscene.add(light);\r\nvar light2 = new THREE.DirectionalLight(0x404040,4);\r\nlight2.position.set(10, 20, -10);\r\nscene.add(light2);\r\n\r\nlet ambientLight = new THREE.AmbientLight(0x404040,2)\r\nscene.add(ambientLight)\r\nconst camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\r\ncamera.fov=30;\r\ncamera.position.x = 0;\r\ncamera.position.y = 280;\r\ncamera.position.z = 0;\r\n\r\nconst deafult_camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\r\ndeafult_camera.fov=30;\r\ndeafult_camera.position.x = 0;\r\ndeafult_camera.position.y = 280;\r\ndeafult_camera.position.z = 0;\r\n\r\nconst renderer = new THREE.WebGLRenderer({ antialias: true });\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\ndocument.body.appendChild(renderer.domElement);\r\nconst labelRenderer = new CSS2DRenderer();\r\nlabelRenderer.setSize(window.innerWidth, window.innerHeight);\r\nlabelRenderer.domElement.style.position = 'absolute';\r\nlabelRenderer.domElement.style.top = '0px';\r\nlabelRenderer.domElement.style.pointerEvents = 'none';\r\ndocument.body.appendChild(labelRenderer.domElement);\r\nconst controls = new OrbitControls(camera, renderer.domElement);\r\ncontrols.dampingFactor = .1;\r\ncontrols.enableDamping = true; \r\ncontrols.enablePan = true; \r\ncontrols.rotateSpeed = .5;\r\ncontrols.target.set(0, 0, 0);\r\n\r\n\r\nconst raycaster = new THREE.Raycaster();\r\nconst sceneMeshes = new Array();\r\nconst circleTexture = new THREE.TextureLoader().load(\"img/circle.png\");\r\n//\r\n\r\nconst getnames = new THREE.FileLoader();\r\nconst progressBar = document.getElementById('progressBar');\r\nconst backButton = document.getElementById('backButton');\r\nbackstate.push(backButton);\r\n\r\n\r\nlet resourceData\r\nlet surroundData\r\ngetnames.setMimeType('json')\r\ngetnames.load('/surround.json', function (all) {\r\n    surroundData = JSON.parse(all);  \r\n    const gltfloader = new GLTFLoader();\r\n    gltfloader.load(surroundData[0].path, function (gltf) {\r\n        gltf.scene.position.copy(surroundData[0].position)\r\n        scene.add(gltf.scene);\r\n        sceneMeshes.push(gltf.scene)},\r\n        undefined, function (error) { console.error(error); })})\r\n        \r\ngetnames.load('/names.json', function (all) {\r\n\r\n  \r\n    resourceData = JSON.parse(all);  \r\n    console.log( resourceData)\r\n    annotations = resourceData;\r\n    const gltfloader = new GLTFLoader();\r\n\r\n    for (let i = 0; i < resourceData.length; i++) {\r\n        gltfloader.load(resourceData[i].path, function (gltf) {\r\n            //gltf.scene.scale.set(01, .01, .01)\r\n            gltf.scene.position.copy(resourceData[i].position)\r\n            scene.add(gltf.scene);\r\n            sceneMeshes.push(gltf.scene);\r\n\r\n        },\r\n            undefined, function (error) { console.error(error); });\r\n\r\n        //console.log('path', resourceData[i].path);\r\n        //console.log('name', resourceData[i].name);\r\n        //console.log('position', resourceData[i].position);\r\n    }\r\n\r\n\r\n    const annotationsPanel = document.getElementById(\"annotationsPanel\");\r\n    const ul = document.createElement(\"UL\");\r\n    const ulElem = annotationsPanel.appendChild(ul);\r\n    backButton.addEventListener('click',function () { backDefault(); });\r\n    \r\n\r\n    Object.keys(annotations).forEach(a => {\r\n\r\n        const li = document.createElement(\"UL\");\r\n        const liElem = ulElem.appendChild(li);\r\n        const button = document.createElement(\"BUTTON\");\r\n\r\n        //button.innerHTML = a + \" : \" + annotations[a].name;\r\n        button.innerHTML = a+': '+annotations[a].name;\r\n\r\n        //console.log(annotations[a].name);\r\n        button.className = \"annotationButton\";\r\n        //button.addEventListener(\"click\", function () { gotoAnnotation(annotations[a]); });\r\n        button.addEventListener('click',function () {gotoAnnotation(annotations[a]); });\r\n    \r\n        liElem.appendChild(button);\r\n        const annotationSpriteMaterial = new THREE.SpriteMaterial({\r\n            map: circleTexture,\r\n            depthTest: false,\r\n            depthWrite: false,\r\n            sizeAttenuation: false\r\n        });\r\n        const annotationSprite = new THREE.Sprite(annotationSpriteMaterial);\r\n        annotationSprite.scale.set(.066, .066, .066);\r\n        annotationSprite.position.copy(annotations[a].position);\r\n        annotationSprite.position.y=(annotations[a].position.y+3)\r\n        annotationSprite.userData.id = a;\r\n\r\n        \r\n        scene.add(annotationSprite);\r\n        annotationMarkers.push(annotationSprite);\r\n        //\r\n\r\n        const annotationDiv = document.createElement('div');\r\n        annotationDiv.className = 'annotationLabel';\r\n        annotationDiv.innerHTML =  a;\r\n        \r\n        const annotationLabel = new CSS2DObject(annotationDiv);\r\n        annotationLabel.position.copy(annotations[a].position);\r\n        annotationLabel.position.y=(annotations[a].position.y+3)\r\n\r\n        \r\n        scene.add(annotationLabel);\r\n        //scene.add(annotationName);\r\n         \r\n\r\n        const  annotationNameDiv = document.createElement('div');\r\n     \r\n        annotationNameDiv.className = 'annotationName';\r\n        annotationNameDiv.innerHTML = annotations[a].name;\r\n        annotationDiv.appendChild(annotationNameDiv);\r\n        annotationDiv.addEventListener('mouseenter',function(event){annotationNameDiv.style.display='block'})\r\n        annotationDiv.addEventListener('mouseleave',function(event){annotationNameDiv.style.display='none'})\r\n        annotationDiv.addEventListener('click', function () { gotoAnnotation(annotations[a]); });\r\n      \r\n\r\n        \r\n        if (annotations[a].description) {\r\n            const annotationinfoDiv = document.createElement('div');\r\n            annotationinfoDiv.className = 'annotationDescription';\r\n            annotationinfoDiv.innerHTML = annotations[a].name\r\n            const annotationDescriptionDiv = document.createElement('div');\r\n            annotationDescriptionDiv.style.cssText='font-size: 20px; color: #545454; font-weight:normal;';\r\n            annotationDescriptionDiv.innerHTML = annotations[a].description;\r\n\r\n            if (annotations[a].picture) {\r\n                const annotationPictureDiv = document.createElement('picture');\r\n                annotationPictureDiv.innerHTML = '<img src=\"'+ annotations[a].picture+'\" width=\"350px\" height=\"260px\"  border=\"5px solid black\">';\r\n                annotationPictureDiv.style.overflow = 'hidden';\r\n                //annotationPictureDiv.style.width = '350px';\r\n                //annotationPictureDiv.style.height = '240x';\r\n                annotationPictureDiv.style.position = 'related';\r\n                //annotationPictureDiv.style.right = '5.5%';\r\n                annotationPictureDiv.style.right = '5.5%';\r\n                //annotationPictureDiv.style.top = '20%';\r\n                annotationDescriptionDiv.appendChild(annotationPictureDiv);}\r\n\r\n            annotationinfoDiv.appendChild(annotationDescriptionDiv);\r\n            annotationDiv.appendChild(annotationinfoDiv);\r\n            annotations[a].descriptionDomElement = annotationinfoDiv;\r\n\r\n            \r\n\r\n            \r\n        }\r\n    });\r\n    progressBar.style.display = \"none\";\r\n    \r\n}\r\n)\r\n\r\nwindow.addEventListener('resize', onWindowResize, false);\r\nfunction onWindowResize() {\r\n    camera.aspect = window.innerWidth / window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    labelRenderer.setSize(window.innerWidth, window.innerHeight);\r\n    render();\r\n}\r\n\r\n\r\n   \r\nrenderer.domElement.addEventListener('click', onClick, false);\r\n\r\nfunction onClick(event) {\r\n    raycaster.setFromCamera({\r\n        x: (event.clientX / renderer.domElement.clientWidth) * 2 - 1,\r\n        y: -(event.clientY / renderer.domElement.clientHeight) * 2 + 1\r\n    }, camera);\r\n    const intersects = raycaster.intersectObjects(annotationMarkers, true);\r\n    console.log(labelRenderer.domElement)\r\n    if (intersects.length > 0) {\r\n        if (intersects[0].object.userData && intersects[0].object.userData.id) {\r\n            gotoAnnotation(annotations[intersects[0].object.userData.id]);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nrenderer.domElement.addEventListener('dblclick', onDoubleClick, false);\r\n\r\n\r\nfunction onDoubleClick(event) {\r\n    raycaster.setFromCamera({\r\n        x: (event.clientX / renderer.domElement.clientWidth) * 2 - 1,\r\n        y: -(event.clientY / renderer.domElement.clientHeight) * 2 + 1\r\n    }, camera);\r\n    const intersects = raycaster.intersectObjects(sceneMeshes, true);\r\n    if (intersects.length > 0) {\r\n        const p = intersects[0].point;\r\n        new TWEEN.Tween(controls.target)\r\n            .to({\r\n            x: p.x,\r\n            y: p.y,\r\n            z: p.z\r\n        }, 500)\r\n            .easing(TWEEN.Easing.Cubic.Out)\r\n            .start();\r\n    }\r\n\r\n}\r\n\r\nfunction backDefault(a) {\r\n\r\n\r\n    new TWEEN.Tween(camera.position)\r\n        .to({\r\n        x: deafult_camera.position.x,\r\n        y: deafult_camera.position.y,\r\n        z: deafult_camera.position.z,\r\n    }, 500)\r\n        .easing(TWEEN.Easing.Cubic.Out)\r\n        .start();\r\n\r\n    new TWEEN.Tween(controls.target)\r\n        .to({\r\n            x: 0,\r\n            y: 0,\r\n            z: 0,\r\n    }, 500)\r\n        .easing(TWEEN.Easing.Cubic.Out)\r\n        .start();\r\n        \r\n        Object.keys(annotations).forEach(annotation => {\r\n            if (annotations[annotation].descriptionDomElement) {\r\n                annotations[annotation].descriptionDomElement.style.display = \"none\";\r\n            }\r\n            if (annotations[annotation].pictureDomElement) {\r\n                annotations[annotation].pictureDomElement.style.display = \"none\";\r\n            }\r\n        });\r\n   \r\n\r\n\r\n}\r\n\r\n\r\nfunction gotoAnnotation(a) {\r\n    new TWEEN.Tween(camera.position)\r\n        .to({\r\n        x: a.position.x-30,\r\n        y: a.position.y+30,\r\n        z: a.position.z+30,\r\n    }, 500)\r\n        .easing(TWEEN.Easing.Cubic.Out)\r\n        .start();\r\n    new TWEEN.Tween(controls.target)\r\n        .to({\r\n        x: a.position.x,\r\n        y: a.position.y,\r\n        z: a.position.z\r\n    }, 500)\r\n        .easing(TWEEN.Easing.Cubic.Out)\r\n        .start();\r\n    Object.keys(annotations).forEach(annotation => {\r\n        if (annotations[annotation].descriptionDomElement) {\r\n            annotations[annotation].descriptionDomElement.style.display = \"none\";\r\n        }\r\n        if (annotations[annotation].pictureDomElement) {\r\n            annotations[annotation].pictureDomElement.style.display = \"none\";\r\n        }\r\n    });\r\n    if (a.descriptionDomElement) {\r\n\r\n        a.descriptionDomElement.style.display = \"block\";\r\n    }\r\n    if (a.pictureDomElement) {\r\n\r\n        a.pictureDomElement.style.display = \"block\";\r\n    }\r\n\r\n}\r\n\r\nconst stats = Stats();\r\ndocument.body.appendChild(stats.dom);\r\n\r\nvar animate = function () {\r\n    requestAnimationFrame(animate);\r\n   \r\n    controls.update();\r\n\r\n    TWEEN.update();\r\n    render();\r\n    stats.update();\r\n\r\n};\r\n\r\nfunction render() {\r\n   \r\n    labelRenderer.render(scene, camera);\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nanimate()\r\n//render()"],"sourceRoot":""}